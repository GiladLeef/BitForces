{%TEMPLATE->struct/head%}
{%TEMPLATE->struct/menu%}

{{IF ![[login.isLoggedin()]]}}
  <h2>Login</h2>
  {%TEMPLATE->struct/messages%}
  <div class="alert {{IF [[toggledarkmode]] > 0}}alert-dark" style="background-color: #32383e;{{ELSE}}alert-neutral{{ENDIF}}">
      <div class="row">
          <div class='col-md-3'></div>
          <div class='col-md-6'>
              <br>
              <form action='login.php' method='post' class="form-horizontal">
                  <input type='hidden' name='fw' value='[[fw]]'>
                  <div class="form-group">
                      <label for="inputUsername" class="col-sm-4 control-label">Username</label>
                      <div class="col-sm-12">
                          <input name='username' type="text" class="form-control" id="inputUsername" placeholder="Username" autofocus>
                      </div>
                  </div>
                  <div class="form-group">
                      <label for="inputPassword" class="col-sm-4 control-label">Password</label>
                      <div class="col-sm-12">
                          <input name='password' type="password" class="form-control" id="inputPassword" placeholder="Password">
                      </div>
                  </div>
                  {{IF [[Util::isYubikeyEnabled()]]}}
                      <div class="form-group">
                          <label for="inputOTP" class="col-sm-4 control-label">Yubikey OTP (if enabled)</label>
                          <div class="col-sm-12">
                              <input name='otp' type="password" class="form-control" id="inputOTP" placeholder="OTP">
                          </div>
                      </div>
                  {{ENDIF}}
                  <div class="form-group">
                      <div class="col-sm-offset-4 col-sm-8">
                          <button type="submit" class="btn btn-success">Sign in</button>
                          &nbsp;&nbsp;&nbsp;
                          <a href='forgot.php'>Forgot password</a>
                      </div>
                  </div>
              </form>
          </div>
          <div class='col-md-3'></div>
      </div>
  </div>
  <div class='alert alert-info'>
    This is an open-source system. Please refer to <a href="https://github.com/GiladLeef/BitForces">BitForces Repository</a>
  </div>
{{ELSE}}
  {%TEMPLATE->struct/messages%}
  <div class='alert alert-success'>Hi [[user.getUsername()]], welcome back!</div>
  <div class="alert {{IF [[toggledarkmode]] > 0}}alert-primary{{ELSE}}alert-neutral{{ENDIF}}">
    BitForces source code is available at our <a href="https://github.com/giladleef/bitforces">Github Repository</a>
  </div>
{{ENDIF}}
{%TEMPLATE->struct/foot%}
